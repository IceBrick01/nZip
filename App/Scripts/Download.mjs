var e=class e{static convertToCSS(e){const t={};for(const i of Object.keys(e))if(void 0!==e[i])if("center"===i)e[i].includes("horizontal")&&("column"===e.flexDirection?t["align-items"]="center":t["justify-content"]="center"),e[i].includes("vertical")&&("column"===e.flexDirection?t["justify-content"]="center":t["align-items"]="center");else if("horizontalAlign"===i)"column"===e.flexDirection?t["align-items"]=e.horizontalAlign:t["justify-content"]=e.horizontalAlign;else if("verticalAlign"===i)"column"===e.flexDirection?t["justify-content"]=e.verticalAlign:t["align-items"]=e.verticalAlign;else if(void 0!==r[i])for(const n of r[i])t[n]=e[i];else t[i]=e[i];return t}static createInlineStyle(e){const t=this.convertToCSS(e);return Object.keys(t).map((e=>`${e}:${this.parseStyleValue(t[e])}`)).join(";")}static parseStyleValue(e){return i(t(e,0).tokens)}_blocks={};constructor(){}addStyleBlock(e,t){return this._blocks[e]={type:"style",value:t},this}addKeyframeBlock(e,t){return this._blocks[e]={type:"keyframe",value:t},this}addOther(e,t){return this._blocks[e]={type:"other",value:t},this}render(){return Object.keys(this._blocks).map((t=>{const i=this._blocks[t];return"style"===i.type?`${t}{${e.createInlineStyle(i.value)}}`:"keyframe"===i.type?`@keyframe ${t}{${i.value.map((t=>`${t[0]}{${e.createInlineStyle(t[1])}}`)).join("")}}`:`${t}{${Object.keys(i.value).map((e=>`${e}:${i.value[e]}`)).join(";")}}`})).join("")}};function t(e,r){const n=[];var o=void 0;function a(){return void 0!==o&&(n.push({type:o.type,value:o.value}),o=void 0,!0)}function s(e){n.length>0&&"text"===n[n.length-1].type?n[n.length-1].value+=e:n.push({type:"text",value:e})}for(let c=r;c<e.length;c++)if(" "===e[c])a()," "!==e[c-1]&&s(" ");else if("$"===e[c])a(),o={type:"variable",value:""};else if("@"===e[c])a(),o={type:"namespace",value:""};else if(["+","-","*","/"].includes(e[c]))" "===e[c-1]&&" "===e[c+1]?(a(),n.push({type:"operator",value:e[c]})):void 0===o?s(e[c]):o.value+=e[c];else if("("===e[c]){a();const r=t(e,c+1);n.push({type:"block",value:i(r.tokens)}),c=r.end}else{if(")"===e[c])return a(),{tokens:n,end:c};","===e[c]?(a(),n.push({type:"seperator",value:","})):void 0===o?s(e[c]):o.value+=e[c]}return a(),{tokens:n,end:e.length-1}}function i(e){if(void 0!==e.find((e=>"seperator"===e.type))){const t=[];for(const r of((e,t)=>{const i=[];let r=[];for(const n of e)t(n)?(i.push(r),r=[]):r.push(n);return r.length>0&&i.push(r),i})(e,(e=>"seperator"===e.type)))t.push(i(r));return t.join(",")}if(void 0!==e.find((e=>"operator"===e.type))){const t=[];let r=[];for(const n of e)"operator"===n.type?(t.push(i(r)),t.push(n.value),r=[]):r.push(n);return r.length>0&&t.push(i(r)),`calc(${t.join(" ")})`}{let t="";for(const i of e)"text"===i.type?t+=i.value:"variable"===i.type?t+=`var(--${i.value})`:"namespace"===i.type?void 0===n[i.value]?t+=i.value:t+=n[i.value]:"block"===i.type&&(t+=`(${i.value})`);return t}}var r={all:["all"],flex:["flex"],gridRow:["grid-row"],gridColumn:["grid-column"],gridRowStart:["grid-row-start"],gridRowEnd:["grid-row-end"],gridColumnStart:["grid-column-start"],gridColumnEnd:["grid-column-end"],position:["position"],display:["display"],flexDirection:["flex-direction"],flexShrink:["flex-shrink"],flexWrap:["flex-wrap"],gridAutoRows:["grid-auto-rows"],gridAutoColumns:["grid-auto-rows"],gridTemplateRows:["grid-template-rows"],gridTemplateColumns:["grid-template-columns"],gap:["gap"],rowGap:["row-gap"],columnGap:["column-gap"],backgroundColor:["background-color"],backgroundImage:["background-image"],backgroundSize:["background-size"],backgroundRepeat:["background-repeat"],backgroundX:["background-position-x"],backgroundY:["background-position-y"],foregroundColor:["color"],border:["border"],borderStyle:["border-style"],borderColor:["border-color"],borderSize:["border-size"],borderRadius:["border-radius"],font:["font-family"],fontSize:["font-size"],fontWeight:["font-weight"],textAlign:["text-align"],textWrap:["text-wrap"],textOverflow:["text-overflow"],textDecoration:["text-decoration"],textDecorationLine:["text-decoration-line"],textDecorationStyle:["text-decoration-style"],textDecorationColor:["text-decoration-color"],textDecorationThickness:["text-decoration-thickness"],lineHeight:["line-height"],boxShadow:["box-shadow","-webkit-box-shadow"],textShadow:["text-shadow"],left:["left"],right:["right"],top:["top"],bottom:["bottom"],width:["width"],minWidth:["min-width"],maxWidth:["max-width"],height:["height"],minHeight:["min-height"],maxHeight:["max-height"],aspectRatio:["aspect-ratio"],margin:["margin"],marginLeft:["margin-left"],marginRight:["margin-right"],marginTop:["margin-top"],marginBottom:["margin-bottom"],padding:["padding"],paddingLeft:["padding-left"],paddingRight:["padding-right"],paddingTop:["padding-top"],paddingBottom:["padding-bottom"],filter:["filter"],backdropFilter:["backdrop-filter"],opacity:["opacity"],transform:["transform"],transition:["transition"],transitionProperty:["transition-property"],transitionDuration:["transition-duration"],animation:["animation"],animationName:["animation-name"],animationIterationCount:["animation-iteration-count"],animationDirection:["animation-direction"],overflow:["overflow"],overflowX:["overflow-x"],overflowY:["overflow-y"],zIndex:["z-index"],cursor:["cursor"],userSelect:["user-select"],resize:["resize"]},n={linear:"linear",easeInSine:"cubic-bezier(0.12, 0, 0.39, 0)",easeOutSine:"cubic-bezier(0.61, 1, 0.88, 1)",easeInOutSine:"cubic-bezier(0.37, 0, 0.63, 1)",easeInQuad:"cubic-bezier(0.11, 0, 0.5, 0)",easeOutQuad:"cubic-bezier(0.5, 1, 0.89, 1)",easeInOutQuad:"cubic-bezier(0.45, 0, 0.55, 1)",easeInCubic:"cubic-bezier(0.32, 0, 0.67, 0)",easeOutCubic:"cubic-bezier(0.33, 1, 0.68, 1)",easeInOutCubic:"cubic-bezier(0.65, 0, 0.35, 1)",easeInQuart:"cubic-bezier(0.5, 0, 0.75, 0)",easeOutQuart:"cubic-bezier(0.25, 1, 0.5, 1)",easeInOutQuart:"cubic-bezier(0.76, 0, 0.24, 1)",easeInQuint:"cubic-bezier(0.64, 0, 0.78, 0)",easeOutQuint:"cubic-bezier(0.22, 1, 0.36, 1)",easeInOutQuint:"cubic-bezier(0.83, 0, 0.17, 1)",easeInExpo:"cubic-bezier(0.7, 0, 0.84, 0)",easeOutExpo:"cubic-bezier(0.16, 1, 0.3, 1)",easeInOutExpo:"cubic-bezier(0.87, 0, 0.13, 1)",easeInCirc:"cubic-bezier(0.55, 0, 1, 0.45)",easeOutCirc:"cubic-bezier(0, 0.55, 0.45, 1)",easeInOutCirc:"cubic-bezier(0.85, 0, 0.15, 1)",easeInBack:"cubic-bezier(0.36, 0, 0.66, -0.56)",easeOutBack:"cubic-bezier(0.34, 1.56, 0.64, 1)",easeInOutBack:"cubic-bezier(0.68, -0.6, 0.32, 1.6)"},o=class{_attributes={};createAttribute(e,t){if(void 0!==this._attributes[e])throw new Error(`Attribute Already Exist: "${e}"`);this._attributes[e]=t}deleteAttribute(e){if(void 0===this._attributes[e])throw new Error(`Attribute Not Found: "${e}"`);delete this._attributes[e]}deleteAllAttributes(){this._attributes={}}getAttribute(e){return this._attributes[e]}checkElementAttributes(e,t){if(void 0!==e.tagName)if(void 0===t)for(const t of e.getAttributeNames())this.checkElementAttributes(e,t);else{const i=this.getAttribute(t);if(void 0!==i){const r=e.hasAttribute("activated")?e.getAttribute("activated").split(","):[];r.includes(t)||(r.push(t),e.setAttribute("activated",r.join(",")),i(e,e.getAttribute(t)))}}}checkElementAttributesRecursively(e){if(this.checkElementAttributes(e),void 0!==e.tagName)for(let t=0;t<e.children.length;t++)this.checkElementAttributesRecursively(e.children.item(t))}},a=(e,t)=>{for(let i=0;i<Math.pow(10,e);i++){const r=i.toString().padStart(e,"0");if(!(Array.isArray(t)?t.includes(r):r in t))return r}throw new Error("Ran Out Of IDs")},s=class{_listeners={};createListener(e,t,i,r){const n=a(5,this._listeners);return this._listeners[n]={target:e,name:t,callback:(...e)=>{i(...e),!0===r&&this.deleteListener(n)}},e.addEventListener(t,this._listeners[n].callback),n}deleteListener(e){if(void 0===this._listeners[e])throw new Error(`Listener Not Found: "${e}"`);const t=this._listeners[e];t.target.removeEventListener(t.name,t.callback),delete this._listeners[e]}deleteAllTimers(){for(const e of Object.keys(this._listeners))this.deleteListener(e)}},c=class{static addPlugin(e){if(void 0!==l[e.id])throw new Error(`Plugin Already Exist: "${e.id}"`);return l[e.id]=e,e}static removePlugin(e){if(void 0===l[e])throw new Error(`Plugin Not Found: "${e}"`);delete l[e]}static initializePlugins(e){for(const t of Object.keys(l))l[t].initialize(e)}},l={},u=class{_promises={};handlePromise(e){return new Promise(((t,i)=>{const r=a(5,this._promises);this._promises[r]={abandon:()=>{delete this._promises[r],i()}},e.then((e=>{void 0!==this._promises[r]&&(delete this._promises[r],t(e))}))}))}abandonPromise(e){if(void 0===this._promises[e])throw new Error(`Promise Not Found: "${e}"`);this._promises[e].abandon()}abandonAllPromises(){for(const e of Object.keys(this._promises))this.abandonPromise(e)}},d=class{_interval=void 0;_timers={};createTimeout(e,t){return this._createTimer(1,e,void 0,t)}createInterval(e,t){return this._createTimer(1/0,e,t,void 0)}createLoop(e,t,i,r){return this._createTimer(e,t,i,r)}deleteTimer(e){if(void 0===this._timers[e])throw new Error(`Timer Not Found: "${e}"`);delete this._timers[e],0===Object.keys(this._timers).length&&void 0!==this._interval&&this._stopTimer()}deleteAllTimers(){this._timers={},this._stopTimer()}_createTimer(e,t,i,r){const n=a(5,this._timers);return this._timers[n]={times:e,interval:t,callback:i,endCallback:r,count:0,lastIterateTimestamp:performance.now()},void 0===this._interval&&this._startTimer(),n}_startTimer(){this._interval=setInterval((()=>{const e=performance.now();for(const t of Object.keys(this._timers)){const i=this._timers[t];e-i.lastIterateTimestamp>i.interval&&(i.lastIterateTimestamp=e,i.times===1/0?void 0!==i.callback&&i.callback(1/0):i.count<i.times?(void 0!==i.callback&&i.callback(i.count),i.count++):(void 0!==i.endCallback&&i.endCallback(),delete this._timers[t]))}}),1)}_stopTimer(){clearInterval(this._interval),this._interval=void 0}},h=class{_Scope;constructor(e){this._Scope=e}animateElement(t,i,r){return new Promise((n=>{void 0===r&&(r={});const o=t.animate(i.map((t=>{for(const i of Object.keys(t))void 0!==t[i]&&(t[i]=e.parseStyleValue(t[i]));return t})),{delay:void 0===r.delay?void 0:r.delay,duration:void 0===r.duration?void 0:r.duration,easing:void 0===r.easing?void 0:e.parseStyleValue(r.easing),fill:void 0===r.fill?void 0:e.parseStyleValue(r.fill)}),a=this._Scope.listen(o,"finish",(e=>{e.target===o&&(this._Scope.deleteListener(a),n())}))}))}animateValue(e,t,i,r,n){return new Promise((o=>{const a=n/10,s=t-e;this._Scope.createLoop(a,10,(t=>{i(e+s*m[r](t/a))}),(()=>{i(t),o()}))}))}},m={linear:e=>e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>2.70158*e*e*e-1.70158*e*e,easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),easeInOutBack:e=>{const t=2.5949095;return e<.5?Math.pow(2*e,2)*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2},easeInElastic:e=>{const t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)},easeOutElastic:e=>{const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1},easeInOutElastic:e=>{const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1},easeInBounce:e=>1-m.easeOutBounce(1-e),easeOutBounce:e=>{const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},easeInOutBounce:e=>e<.5?(1-m.easeOutBounce(1-2*e))/2:(1+m.easeOutBounce(2*e-1))/2},p=class{static registerScope(e){const t=a(5,b);return b[t]=e,void 0===g&&(g=new MutationObserver((e=>{for(const t of e)if("childList"===t.type)t.addedNodes.forEach((e=>{const t=this.getParentScope(e);void 0!==t&&t.AttributeManager.checkElementAttributes(e)}));else if("attributes"===t.type){const e=this.getParentScope(t.target);void 0!==e&&e.AttributeManager.checkElementAttributes(t.target,t.attributeName)}}))).observe(document.body,{subtree:!0,childList:!0,attributes:!0}),t}static unregisterScope(e){if(void 0===b[e])throw new Error(`Scope Not Found: "${e}"`);delete b[e]}static getScope(e){if(void 0===b[e])throw new Error(`Scope Not Found: "${e}"`);return b[e]}static getAllScopes(){return Object.keys(b)}static getParentScope(e){if(null===e.parentElement)return;const t=e.parentElement.getAttribute("scope");return null===t?this.getParentScope(e.parentElement):b[t]}},g=void 0,b={},f=class{static createStyle(e,t){for(const i of Object.keys(w))if(w[i].content===e&&w[i].modifier===t)return`scope-${i}`;const i=a(5,w);return w[i]={content:e,modifier:t},this.updateStyles(),`scope-${i}`}static updateStyles(){void 0===v&&(v=document.head.appendChild(document.createElement("style")));const e=[];for(const t of Object.keys(w)){const i=w[t];e.push(`.scope-${t}${void 0===i.modifier?"":`:${i.modifier}`}{${i.content}}`)}v.textContent=e.join("")}},v=void 0,w={},y=class{static use(e){c.addPlugin(e)}_id;_root;ListenerManager;TimerManager;PromiseManager;PluginManager;AttributeManager;StyleManager;Animation;constructor(e){if(null!==e.getAttribute("scope"))throw new Error("Element Is Already The Root Of A Scope");this._id=p.registerScope(this),this._root=e,this.ListenerManager=new s,this.TimerManager=new d,this.PromiseManager=new u,this.PluginManager=c,this.AttributeManager=new o,this.StyleManager=f,this.Animation=new h(this),e.setAttribute("scope",this._id),c.initializePlugins(this),this.AttributeManager.checkElementAttributesRecursively(this.root)}get id(){return this._id}get root(){return this._root}getElementByID(e){return this._root.querySelector(`#${e}`)}getElementByClassName(e){return this._root.querySelectorAll(`.${e}`)}isOwnedByScope(e){let t=e;for(;;){const e=p.getParentScope(t);if(void 0===e)return!1;if(e.id===this.id)return!0;t=e.root}}listen(e,t,i,r){return this.ListenerManager.createListener(e,t,i,r)}deleteListener(e){this.ListenerManager.deleteListener(e)}createTimeout(e,t){return this.TimerManager.createTimeout(e,t)}createInterval(e,t){return this.TimerManager.createInterval(e,t)}createLoop(e,t,i,r){return this.TimerManager.createLoop(e,t,i,r)}deleteTimer(e){this.TimerManager.deleteTimer(e)}async handle(e){return this.PromiseManager.handlePromise(e)}async animateElement(e,t,i){await this.Animation.animateElement(e,t,i)}async animateValue(e,t,i,r,n){await this.Animation.animateValue(e,t,i,r,n)}loadHTML(e){this._reset(),this.root.innerHTML=e,this.AttributeManager.checkElementAttributesRecursively(this.root)}remove(){this._reset(),p.unregisterScope(this._id),this.root.remove()}_reset(){this.ListenerManager.deleteAllTimers(),this.TimerManager.deleteAllTimers(),this.PromiseManager.abandonAllPromises();for(const e of p.getAllScopes()){const t=p.getParentScope(p.getScope(e).root);void 0!==t&&t.id===e&&t.remove()}}};y.use({id:"default",initialize:t=>{t.AttributeManager.createAttribute("style:dynamic:minheight",((i,r)=>{function n(){let t=0;for(const e of Array.from(i.children)){t+=e.getBoundingClientRect().height}i.style.minHeight=e.parseStyleValue(r.replace("<height>",`${t}px`))}n(),t.listen(window,"resize",(()=>n()))}))}}),new y(document.body);var k=document.getElementById("logs"),_=document.getElementById("text_logs"),M=document.getElementById("download_button"),S=new WebSocket(window.location.href);function A(e){_.innerHTML+="<br>"+e,k.scrollTo(0,k.scrollHeight)}S.addEventListener("open",(()=>{_.innerHTML+="<br>Connected!<br>"})),S.addEventListener("message",(async e=>{const t=new Uint8Array(await e.data.arrayBuffer());switch(t[0]){case 0:return A("Start loading the images...");case 1:return A("All images loaded!<br><br>Zipping the images...");case 2:return A("All images zipped!<br><br>Click the button below to download the zip file."),M.href=new TextDecoder("utf8").decode(t.slice(1)),M.download=`${window.location.pathname.split("/")[2]}.zip`,void(M.innerText="Download ZIP");case 16:const[e,i]=JSON.parse(new TextDecoder("utf8").decode(t.slice(1)));return A(`Progress: ${e} / ${i}`);case 32:return A("Error occurred while downloading the images. Please report this issue to the developer.")}}));